# A/B - тестирование

Задача — провести оценку результатов A/B-теста. В распоряжении есть датасет с действиями пользователей, техническое задание и несколько вспомогательных датасетов.

- Оценить корректность проведения теста
- Проанализировать результаты теста

Чтобы оценить корректность проведения теста, проверить:

- пересечение тестовой аудитории с конкурирующим тестом,
- совпадение теста и маркетинговых событий, другие проблемы временных границ теста.


# Техническое задание

- Название теста: `recommender_system_test`;
- группы: А — контрольная, B — новая платёжная воронка;
- дата запуска: 2020-12-07;
- дата остановки набора новых пользователей: 2020-12-21;
- дата остановки: 2021-01-04;
- аудитория: 15% новых пользователей из региона EU;
- назначение теста: тестирование изменений, связанных с внедрением улучшенной рекомендательной системы;
- ожидаемое количество участников теста: 6000.
- ожидаемый эффект: за 14 дней с момента регистрации пользователи покажут улучшение каждой метрики не менее, чем на 10%:
    - конверсии в просмотр карточек товаров — событие `product_page`,
    - просмотры корзины — `product_cart`,
    - покупки — `purchase`.
 

# Статус проекта - ГОТОВ


# Цели проекта:

- провести предобраотку (проверить данные на наличе пропусков, дубликатов, на соответствие типов и логику)

- подготовка данных
	-сократить аудиторию теста согласно ТЗ

- исследовательский анализ
	- узнать как менялась конверсия в воронке на разных этапах
	- посчитать распределение количества событий на пользователя в группах
	-построить распределение событий по дням
	- описать какие особенности нужно учесть, прежде чем приступать к A/B-тестированию


- оценка результатов
	- проверка статистической значимости различий конверсии



# Инструменты для исследования:

Библиотеки: `pandas`, `numpy`, `matplotlib`, `math`, `scipy`, `datetime`, `plotly`


# Вывод по итогам исследования:

**По группам есть статистически значимые различия, на этапе `product_page` доли пользователей различны**

Одним из важнейших критерием проведения теста явлется размер выборки и правильное её разделение на контрольную и экспериментальную группу. В данном тесте группа разделилась не в равных пропорциях (1406 и 532). Поскольку абсолютные показатели не рассчитываются, то такое разделение выборки вполне подходит. 

Как правило, проводить АВ тест одновременно с кокой-ллибо акцией не положено, ведь акции способствуют появлению выбросов, таких как увеличение числа заказов, аномально большие выручки и тд. В нашем случает тест проводился одновременно с рождественской акцией, как показало исследование, её проведение никак не полияло на тест, принял решение не убирать из анализа данные за этот период.  

Опираясь на воронку событий, после очистки данных, видно, что процент просмотра товара упал на 3%.

Так же было выявленно 776 пользователей участвовавших в обоих тестах. Поскольку тесты разные и показывают влияние на разные целевые показатели, то нельзя считать данные их действий информативными. Действия этих пользователей были удалены из логов

На основании этого тест признаю не удачным. Старая система рекомендаций показала себя лучшим образом

**Касательно исследовательского анализа:**

1) Для оценки корректности результатов теста в выборках оставил только пользователей из региона EU, с датой регистрации 2020-12-21.

2) В выборке были обнаружены пользователи состоящии в тестовой к контрольной группах, после очистки они пропали. 

3) Запущено было 2 теста, остались только участники интересующего меня теста, пересечений в группах среди участников не выявлено. Необходимо отметить, что в логах были зафиксированны данные пользователей, которые участвовали в 2х тестах. Такие данные нельзя считать информативными. Действия этих пользователей были исключены из анализа.

4) Проверил распределение событий между группами, не смотря на то что количество участников теста в группах сильно отличается, среднее количество событий на одного участника сопоставимы.

5) Рассмотрев наспределение событий по дням, подтвердил, что рождественская акция не влияет на оценку тестирования, т.к. резких всплесков не наблюдается. Это подтверждает диаграмма по времени и выручки.